<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
  <link rel="stylesheet" href="../assets/css/style.css">
</head>
<body>
    <h2>Approve Leave</h2>

<form id="approveForm">
  <input placeholder="Leave ID" id="leaveId" required>
  <select id="action">
    <option value="APPROVED">Approve</option>
    <option value="REJECTED">Reject</option>
  </select>
  <button>Submit</button>
  <div id="msg"></div>
</form>

<script>
approveForm.onsubmit = async e => {
  e.preventDefault();
  const f = new FormData();
  f.append("leave_id", leaveId.value);
  f.append("action", action.value);

  const r = await fetch(
    "../../backend/index.php?module=leave&action=approve",
    { method: "POST", body: f, credentials: "include" }
  );

  msg.innerText = await r.text();
};
</script>

</body>
</html>